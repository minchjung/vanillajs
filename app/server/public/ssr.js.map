{"version":3,"file":"ssr.js","mappings":"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","sources":["webpack://SSR/webpack/bootstrap","webpack://SSR/webpack/runtime/define property getters","webpack://SSR/webpack/runtime/hasOwnProperty shorthand","webpack://SSR/webpack/runtime/make namespace object","webpack://SSR/./src/lib/Store.js","webpack://SSR/./src/lib/Component.js","webpack://SSR/./src/views/PostListPage.js","webpack://SSR/./src/views/router.js","webpack://SSR/./src/views/PostSingle.js","webpack://SSR/./src/views/App.js","webpack://SSR/./ssr.js","webpack://SSR/./src/lib/Router.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","class Store {\n  state; app; cacheHandler;\n\n  constructor(){\n    this.cacheHandler = {}; \n  }\n\n  subscribe(app){\n    this.app =app;\n  }\n\n  initState(initial, server=false){\n    this.state = initial;\n    if(server) return \n    // console.log(this.state)\n    // history.pushState({ state : this.state }, null, location.origin + '/page?' + this.cacheHandler.getCacheId())    \n\n  }\n\n  setState(newState){\n    this.state = { ...this.state, ...newState };\n    // console.log(this.cacheHandler.getCacheId())\n    history.pushState({ state : this.state }, null, location.origin + '/page?' + this.cacheHandler.getCacheId())    \n    // console.log(history)\n    this.updateView();\n    // const { filter, name, order, page, size, total }  = this.state\n    // const url = `/page?filter=${filter}&name=${name}&order=${order}&page=${page}&size=${size}&total=${total}`\n    // console.log('after setState=', this.state, location.origin + '/page?' + this.cacheHandler.getCacheId())\n  }\n\n  updateView(){\n    if(Object.keys(this.cacheHandler).length !== 0) this.cacheHandler.searchCache();\n    this.renderAll()\n  }\n\n  renderAll(){\n    // console.log('render All works')\n    this.app.render();\n  }\n\n  hydrate(newState){\n    this.state = newState\n  }\n\n}\n\nexport default Store;","class Component{\n  \n  el; components; child; firstBonder; secondBonder; name; curPos; oldPos; root; state\n\n  constructor({ name, state }){\n    this.components=[];\n    this.child =[];\n    this.name = name;\n    this.state = state;\n    this.curPos = 0;\n    this.oldPos = 0;    \n    \n    this.firstBonder = this.eventHandler.bind(this);\n    this.secondBonder = this.secondEventHandler.bind(this);\n  }\n  \n  setState(state){\n    this.state = state; // for serverside rendering\n    // console.log('=========================this.state, this.curPos',this.state, this.curPos)\n    if(this.components.length > 0){\n      this.components[this.curPos].setState(state)\n    }\n    if(this.child.length > 0){\n      this.child.map(node => node.setState(state))\n    }\n  }\n  setRoot(root){\n    if(!this.root)  this.root = root;\n    this.el =  this.root.querySelector(`#${this.name}`);\n    // console.log(\"setRooooot=\", this.root, this.el, this.name)\n    \n    if(this.components.length > 0){\n      this.components[this.curPos].setRoot(root);\n    }\n\n    if(this.child.length > 0){\n      this.child.map(node => node.setRoot(root));\n    }\n    // console.log(root, 'setRoot', this.el)\n    this.setEvent();\n  }\n  \n  setEvent(){\n  }\n\n  eventHandler(){\n\n  }\n\n  secondEventHandler(){\n    \n  }\n\n  template(){\n    let renderHtml='';\n    if(this.components.length > 0){\n      renderHtml = this.components[this.curPos].template();\n      // console.log('this app name=', this.name, this.state, renderHtml)\n\n    } \n\n    if(this.child.length > 0){\n      renderHtml = this.child.map(node => node.template()).join('')\n      // console.log('this app name=', this.name, this.state, renderHtml)\n\n    }\n    // console.log('this app name=', this.name, this.state, renderHtml)\n    return `\n      <div id=${this.name}>\n        ${renderHtml}\n      </div>\n    `;\n\n  }\n  \n  render(){\n    // console.log(this.root)\n    // if(!this.el) this.el = this.root.querySelector('#'+ this.name) \n    // console.log(this.root)\n    // const oldOne = this.el.innerHTML;\n    // const newOne = this.template();\n  // Needs\n    // console.log(newOne)\n    // some diff logic to compare of two\n \n    this.el.innerHTML= this.template() //(should be oldOne after diff);\n    requestAnimationFrame(()=> this.setRoot())\n      // console.log(\"rendering here =\", this.name, this.el)\n\n  }\n\n}\n\nexport default Component","import Component from '../lib/Component.js';\n\nexport class PostListPage extends Component{\n  \n  constructor({ name, state }){\n    super({ name, state })\n    this.child = [] \n    this.child.push(new PostListHeader({ name : 'postlistheader', state }))\n    this.child.push(new Postlist({ name : 'postlist' , state }))\n    this.child.push(new PageButton({ name : 'pagebutton', state }))\n  }\n  \n}\n\nexport class PostListHeader extends Component{\n  \n  child; \n\n  constructor({ name, state }){\n    super({ name, state })\n    this.child = []\n    this.child.push( new Search({ name : 'search' , state }) )\n    this.child.push( new Paging( { name :'paging', state  }) )\n    this.child.push( new Sorting( { name : 'sorting', state }) )\n    this.child.push( new SortButton( { name : 'sortbutton', state }) )\n\n  }\n\n}\n\nexport class Search extends Component{\n\n\n   template(){\n    const keyword = this.state.filter\n    return `\n    <div data-component=\"search\" id=\"search\">\n      <input \n        data-action='searchInput' \n        placeholder=\"search\" \n        type=\"text\" \n        value=${keyword? keyword : \"\"}>\n      <button data-action='searchBtn'>검색</button>\n    </div>\n  `;\n  } \n\n}\n\nexport class Paging extends Component {\n\n\n  template(){\n    const select = Number(this.state.size)\n    return `\n      <div data-component=paging id=\"paging\">\n        <label for=\"pagination\" value=${select}>페이지</label>\n          <select data-action =\"page\">\n          <option value=5 ${select === 5? \"selected\" : \"\"}>5</option>\n          <option value=10 ${select === 10? \"selected\" : \"\"}>10</option>\n          <option value=20 ${select === 20? \"selected\" : \"\"}>20</option>\n        </select>\n      </div>\n    `;\n  }\n\n}\n\nexport class Sorting extends Component{\n\n\n  template(){\n    const selected = this.state.order\n    return `\n    <div data-component='sorting' id=\"sorting\">\n      <label for=\"sorting\">날짜정렬</label>\n      <select data-action=\"order\">\n        <option \n            name='order' value=\"dsc\" \n            ${selected === 'dsc'? \"selected\" : \"\"}>최신</option>\n        <option \n            name='order' value=\"asc\"\n            ${selected === 'asc'? \"selected\" : \"\"}>예전</option>\n      </select>\n    </div>`\n    ;\n  }\n\n}\n\nexport class SortButton extends Component{\n\n  template(){\n    return `\n      <div id=\"sortbutton\">\n        <button data-action = 'all' id=\"refreshall\">초기화</button>\n        <button data-action = 'page' id=\"refreshpage\">새로고침</button>\n      </div>\n    `;\n  }\n\n}\n\n\nexport class Postlist extends Component{\n\n\n  template(){\n    \n    const items = this.state.data\n    const classOn = this.state.name !== '' ?`class='writer-on'` : \"\" \n\n    return `\n    \n      <div id='postlist'>\n        <ul>\n          <li>글번호</li>\n          <li data-action='title'>제목</li>\n          <li>작성자</li>\n          <li>작성일</li>\n        </ul>\n        ${ items.length === 0 ? \"\" : \n          items.map( (item, idx) => `\n          <ul data-index=${item.id}>  \n            <li id= ${item.id}>${item.id}</li>\n            <li data-action='title'>${item.title}</li>\n            <li data-action='writer' ${classOn} >${item.writer}</li>\n            <li>${item.date.split('T')[0]}</li>\n          </ul>`)\n          .join(\"\")\n        }\n      </div>`\n  }\n}\n\nclass PageButton extends Component{\n\n  constructor({ name, state }){\n    super({ name, state });\n    this.child = []; \n    this.child.push( new Pagination({ name :'pagination-button', state }) );\n    this.child.push( new PostButton({ name :'postbutton', state }) );\n  }\n\n}\n\nexport class PostButton extends Component{\n\n  template(){\n    return `\n      <div id=postbutton>\n        <button>글 작성</button>\n      </div>\n    `\n  }\n  \n}\n\n\nexport class Pagination extends Component{\n\n  page; group\n\n  template(){\n    const { page, size, total, data } =  this.state;\n    const less = Number(page) > 1;\n    const more = Number(size)*Number(page) < Number(total) ;\n    // console.log('postListPage============', this.state)\n\n    return `\n      <div id=pagination-button>\n      ${ Number(total) === 0 ? `<span class=\"none-display\">\"게시글이 존재 하지 않습니다.\"</span>` : \"\"}\n      ${ less ? `<button data-action=\"less\">이전</button>` : \"\" }\n      ${ more ? `<button data-action=\"more\">더보기</button>` : \"\" }\n      ${ Number(total) && !more ? `<span class=\"none-display\">\"마지막 페이지 입니다\"</span>` : \"\" }\n      </div>\n    `\n  }\n\n}\n"," const viewRouter = {\n  index : 0 , \n  setIndex(index){\n    this.index = index\n  }\n}\n\nexport default viewRouter","import Component from '../lib/Component.js'\nimport viewRouter from './router';\nexport class PostSinglePage extends Component{\n  \n  child; \n\n  constructor({ name, state }){\n    super({ name, state })\n    // this.root = root;\n    this.child = [];\n    this.child.push( new Header({ name : 'header', state }))\n    this.child.push( new Contents({ name : 'contents', state }))\n    this.child.push( new BottomButton({ name : 'bottombutton', state }))\n\n  }\n\n}\n\n\nexport class Header extends Component{\n  \n\n  template(){\n    // console.log(viewRouter, this.state)\n\n    const index = viewRouter.index \n    const data = this.state.data.filter(ele => ele.id  === Number(index))[0]\n\n    if( !data || data.length === 0 ) return false\n    return `\n      <header id=\"header\">\n        <div class='single-header'>\n          <span>글번호</span>\n          <span>제목</span>\n          <span>작성자</span>\n          <span>날짜</span>\n        </div>\n        <div class='single-content'>\n          <span>${ data.id }</span>\n          <span>${ data.title }</span>\n          <span>${ data.writer }</span>\n          <span>${ data.date.split('T')[0] }</span>\n        </div>\n\n      </header>\n    `\n  }\n\n}\n\nexport class Contents extends Component{\n\n\n  template(){\n    const index = viewRouter.index \n    const data = this.state.data.filter(ele => ele.id  === Number(index))[0]\n\n    return `\n      <div id=\"contents\">\n        <textarea cols=\"50\" rows=\"20\" name ='content' readonly>${data.content}</textarea>\n      </div>\n    `;  \n  }\n  \n}\n\nexport class BottomButton extends Component{\n  \n\n\n  template(){\n    return `\n      <div id=\"bottombutton\">\n      <button data-action=\"list\">목록</button>\n        <button data-action=\"edit\">수정</button>\n        <button data-action=\"delete\">삭제</button>\n      </div>\n    `;\n  }\n\n}\n","import  Component  from \"../lib/Component.js\";\nimport { PostListPage } from \"./PostListPage.js\";\nimport { PostSinglePage } from \"./PostSingle.js\";\n\nclass App extends Component{\n\n  constructor({ name, state }){\n    super({ name, state })\n    this.components.push(new PostListPage({ name : 'postlistpage' , state}));\n    this.components.push(new PostSinglePage({ name :'postsingle', state }));\n  }\n\n}\n\nexport default new App({ name : 'app'})","import Store from './src/lib/Store.js';\nimport app from './src/views/App.js'\nimport Router from './src/lib/Router.js';\nimport viewRouter from './src/views/router.js';\n\nexport function ssr_converter (context) {\n  return new Promise(async (resolve, reject) => {\n\n    let { url, state, index } = context;\n    \n    const store = new Store();\n    const router = new Router();\n\n    router.subscribe(app);\n    router.setRoutes( \n      [\n        { path : '/',\n          comPosition : 0 \n        },\n        { path : '/post-single',\n          comPosition : 1\n        },\n        { path : '/post-edit',\n          comPosition : 2\n        },\n        { \n          path : '/nout-found',\n          comPosition : 3\n        }\n      ] \n    )\n    url = state.data.length === 0 ? '/not-found' : url \n    router.setPathCur(url, true);\n    viewRouter.setIndex(Number(index))\n    store.initState(state, true);\n    app.setState(state);\n\n    let ssr_html= router.serverRender();\n   \n    if(ssr_html) resolve( ssr_html ); \n    else{ \n      router.setPathCur('/not-found', true);\n      ssr_html = router.serverRender();\n\n      if(ssr_html) resolve(ssr_html);\n      else reject( new Error('SSR error') );\n    }\n  })\n\n}\n","class Router {\n  \n  routes; base; index; root; app; cur; eventBounder;\n  \n  constructor(){\n\n    this.cur = 0;\n    this.routeState = { value : \"\" };\n\n  }\n  \n  subscribe(app){\n    this.app = app;\n  }\n\n  setRoutes( routes ){\n    this.routes = routes\n  }\n\n  setRoot(root){\n    if(!this.root && !root) this.root = document.querySelector('#root')\n    if(!this.root) this.root = root \n    // console.log(this.root)\n    try{\n      this.app.setRoot(this.root);\n      this.app.onLoad();\n      // this.app.setEvent();\n\n    }catch(err){\n      if(err instanceof TypeError){ \n        return this.serverRender()\n      }\n    }\n  }\n\n\n  setIndex(index){\n    this.index =Number(index)\n  }\n  \n  setPathCur(newCur, serverRender=false){\n    // console.log('newCur========', newCur)\n    newCur = newCur === '/page' ? '/' : newCur\n    this.cur = this.routes.filter( \n      route => route.path === newCur )[0].comPosition;\n    \n    this.app.curPos = this.cur; \n\n    if(serverRender) return \n    this.templateRender()\n\n  }\n\n  templateRender(){\n    this.root.innerHTML = this.app.template();\n    this.setRoot(this.root)\n  }\n  \n  serverRender(){\n    // console.log('asdfasdfasdfdsa=========', this.app.state)\n    return this.app.template();\n  }\n}\n\nexport default Router;"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","el","components","child","firstBonder","secondBonder","name","curPos","oldPos","root","state","constructor","this","eventHandler","bind","secondEventHandler","setState","length","map","node","setRoot","querySelector","setEvent","template","renderHtml","join","render","innerHTML","requestAnimationFrame","PostListPage","super","push","PostListHeader","Postlist","PageButton","Search","Paging","Sorting","SortButton","filter","select","Number","size","selected","order","items","data","classOn","item","idx","id","title","writer","date","split","Pagination","PostButton","page","group","total","less","more","index","setIndex","PostSinglePage","Header","Contents","BottomButton","ele","content","ssr_converter","context","Promise","async","resolve","reject","url","store","app","cacheHandler","subscribe","initState","initial","server","newState","history","pushState","location","origin","getCacheId","updateView","keys","searchCache","renderAll","hydrate","router","routes","base","cur","eventBounder","routeState","setRoutes","document","onLoad","err","TypeError","serverRender","setPathCur","newCur","route","path","comPosition","templateRender","ssr_html","Error"],"sourceRoot":""}